<!doctype html>
<meta charset="utf-8"/>
<title>Nourish Naija ‚Äì Icon Factory</title>
<style>
  :root{--ink:#0f172a} body{font-family:system-ui,Segoe UI,Roboto,Inter,Arial;max-width:760px;margin:40px auto;padding:0 16px;color:var(--ink)}
  .row{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
  button,select{padding:10px 14px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;cursor:pointer}
  canvas{border-radius:32px;border:1px solid #e5e7eb}
</style>
<h1>üç≤ Nourish Naija ‚Äì Icon Factory</h1>
<p>1) Pick a palette ‚Üí 2) Click ‚ÄúDownload 192px‚Äù and ‚ÄúDownload 512px‚Äù ‚Üí 3) Upload to <code>icons/icon-192.png</code> and <code>icons/icon-512.png</code>.</p>

<div class="row">
  <label>Palette:
    <select id="pal">
      <option value="emerald">Emerald ‚Üí Teal (current)</option>
      <option value="zobo">Zobo Purple ‚Üí Rose</option>
      <option value="sunrise">Sunrise Orange ‚Üí Coral</option>
      <option value="ocean">Ocean Blue ‚Üí Cyan</option>
    </select>
  </label>
  <button onclick="render(192)">Preview 192px</button>
  <button onclick="render(512)">Preview 512px</button>
</div>

<div class="row">
  <canvas id="c192" width="192" height="192"></canvas>
  <canvas id="c512" width="256" height="256"></canvas>
</div>

<div class="row">
  <button onclick="download('c192','icon-192.png')">Download 192px</button>
  <button onclick="download('c512','icon-512.png')">Download 512px</button>
</div>

<script>
const palettes = {
  emerald: ['#10B981','#059669','#0EA5A4'],
  zobo:    ['#7C3AED','#A855F7','#DB2777'],
  sunrise: ['#F59E0B','#F97316','#EF4444'],
  ocean:   ['#2563EB','#06B6D4','#22D3EE'],
};

function drawIcon(ctx, size, [a,b,c]) {
  const r = size/2, pad = size*0.06;
  ctx.clearRect(0,0,size,size);

  // rounded rect background
  const rr = size*0.24;
  const grd = ctx.createLinearGradient(0,0,size,size);
  grd.addColorStop(0, a); grd.addColorStop(0.6, b); grd.addColorStop(1, c);
  roundRect(ctx, pad, pad, size-pad*2, size-pad*2, rr); ctx.fillStyle = grd; ctx.fill();

  // inner glow
  ctx.beginPath(); ctx.arc(r, r, size*0.31, 0, Math.PI*2);
  ctx.fillStyle = 'rgba(255,255,255,0.10)'; ctx.fill();

  // bowl
  ctx.beginPath();
  ctx.moveTo(size*0.18, size*0.52);
  ctx.lineTo(size*0.82, size*0.52);
  ctx.quadraticCurveTo(size*0.8, size*0.86, r, size*0.86);
  ctx.quadraticCurveTo(size*0.2, size*0.86, size*0.18, size*0.52);
  ctx.closePath(); ctx.fillStyle = '#fff'; ctx.fill();

  // base
  roundRect(ctx, size*0.42, size*0.75, size*0.16, size*0.06, size*0.03);
  ctx.fillStyle = '#fff'; ctx.fill();

  // steam
  ctx.strokeStyle = '#fff'; ctx.lineCap = 'round'; ctx.lineWidth = size*0.045;
  bez(ctx, size*0.40, size*0.46, size*0.40, size*0.34, size*0.47, size*0.26);
  bez(ctx, size*0.56, size*0.46, size*0.56, size*0.34, size*0.63, size*0.26);

  // sparkles
  dot(ctx, size*0.76, size*0.32, size*0.03);
  dot(ctx, size*0.30, size*0.30, size*0.02);
  dot(ctx, size*0.66, size*0.24, size*0.018);
}

function roundRect(ctx, x,y,w,h,r){ctx.beginPath();ctx.moveTo(x+r,y);ctx.arcTo(x+w,y,x+w,y+h,r);ctx.arcTo(x+w,y+h,x,y+h,r);ctx.arcTo(x,y+h,x,y,r);ctx.arcTo(x,y,x+w,y,r);ctx.closePath();}
function bez(ctx, x1,y1, cx,cy, x2,y2){ctx.beginPath();ctx.moveTo(x1,y1);ctx.quadraticCurveTo(cx,cy,x2,y2);ctx.stroke();}
function dot(ctx,x,y,rr){ctx.beginPath();ctx.arc(x,y,rr*ctx.canvas.width,0,Math.PI*2);ctx.fillStyle='#fff';ctx.fill();}

function render(size){
  const pal = palettes[document.getElementById('pal').value];
  const id = size===192 ? 'c192' : 'c512';
  const cvs = document.getElementById(id);
  cvs.width = cvs.height = size;
  const ctx = cvs.getContext('2d');
  drawIcon(ctx, size, pal);
}
function download(id, name){
  const a = document.createElement('a'); a.href = document.getElementById(id).toDataURL('image/png'); a.download = name; a.click();
}
render(192); render(512);
</script>
